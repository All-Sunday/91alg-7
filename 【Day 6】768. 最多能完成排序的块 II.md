### æ€è·¯
æ²¡å¾—æ€è·¯ï¼Œæˆ‘æ²¡çœ‹æ‡‚ğŸ˜¥ï¼Œä¸‹é¢æ˜¯å®˜æ–¹é¢˜è§£ã€‚
### ä»£ç 
```
class Solution {
    public int maxChunksToSorted(int[] arr) {
        Map<Integer, Integer> count = new HashMap();
        int ans = 0, nonzero = 0;

        int[] expect = arr.clone();
        Arrays.sort(expect);

        for (int i = 0; i < arr.length; ++i) {
            int x = arr[i], y = expect[i];

            count.put(x, count.getOrDefault(x, 0) + 1);
            if (count.get(x) == 0) nonzero--;
            if (count.get(x) == 1) nonzero++;

            count.put(y, count.getOrDefault(y, 0) - 1);
            if (count.get(y) == -1) nonzero++;
            if (count.get(y) == 0) nonzero--;

            if (nonzero == 0) ans++;
        }

        return ans;
    }
}
```
**å¤æ‚åº¦åˆ†æ**
- æ—¶é—´å¤æ‚åº¦ï¼šO(NlogN)ï¼Œå…¶ä¸­Nä¸ºarrçš„é•¿åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(N)ã€‚
